# RBMS MQTT Access Control List
#
# 토픽 구조:
#   rbms/<node_id>/telemetry  — 센서 데이터 (노드→서버)
#   rbms/<node_id>/command    — 명령 (서버→노드)
#   rbms/<node_id>/status     — 상태 (노드→서버)
#   rbms/preset/<preset_name> — 프리셋 배포 (서버→노드, retained)

# 브릿지 사용자: 모든 RBMS 토픽 읽기/쓰기
user rbms_bridge
topic readwrite rbms/#

# 대시보드 사용자: 텔레메트리/상태 읽기, 명령 쓰기
user rbms_dashboard
topic read rbms/+/telemetry
topic read rbms/+/status
topic write rbms/+/command
topic readwrite rbms/preset/#

# 노드 사용자: 자신의 토픽만 접근
pattern readwrite rbms/%u/telemetry
pattern readwrite rbms/%u/status
pattern read rbms/%u/command
pattern read rbms/preset/#
